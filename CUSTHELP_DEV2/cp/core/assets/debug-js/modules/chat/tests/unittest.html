<html>
  <head>
    <title>Unit Test for CP Project</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Dependency -->
    <script type="text/javascript" src="yahoo-min.js" ></script>
    <!-- Event source file -->
    <script type="text/javascript" src="event-min.js" ></script>
    <script type="text/javascript" src="../RightNow.js"></script>
    <script type="text/javascript" src="../Queue.js"></script>
    <script type="text/javascript" src="../ChatCommunicator.js"></script>
    <script type="text/javascript" src="../ChatRequestTransporter.js"></script>
    <script type="text/javascript">
    var events = new RightNow.Chat.Events();
    var data = new RightNow.Chat.Model.ChatRequestData();
    data.dbName = "sridharcp2branch";
    data.chatServerHost = "localhost";
    data.contactFirstName = "abc";
    data.contactLastName = "def";
    data.contactEmail = "abcdef@test.com";
    data.interfaceID = 1;
    data.requestSource = 2;
    data.sessionID = "88AEy5tj";

    var chatCommunicator = new RightNow.Chat.Model.ChatCommunicator();
    chatCommunicator.initialize();
    var browser2 = chatCommunicator.chatRequestTransporter.browser;
    document.write("Using scripts, the browser is ");
    if(browser2.isIE)
        document.writeln("IE " + browser2.version);
    else if(browser2.isFirefox)
        document.writeln("Firefox " + browser2.version);
    else if(browser2.isSafari)
        document.writeln("Safari " + browser2.version);
    else
        document.writeln("Something else");
    document.write("</br>");

    if(chatCommunicator.chatRequestTransporter.requestType)
        document.writeln("The request type is GET.");
    else
        document.writeln("The request type is POST.");
    document.write("</br>");

    if(chatCommunicator.chatRequestTransporter.getCookie("JSESSIONID"))
        document.write("Cookies are enabled: " + document.cookie);
    else
        document.write("Cookies are NOT enabled: " + document.cookie);
    document.write("</br>");

    var queue = RightNow.Chat.Model.Queue;
    queue.enqueue("msg1");
    queue.enqueue("msg2");
    queue.enqueue("msg3");
    document.write("The queue size (should be 3): " + queue.getSize());
    document.write("</br>");
    document.write("The queue oldest element (should be 'msg1'): " + queue.getOldestElement());
    document.write("</br>");
    document.write("The queue messages: " + queue.dequeue() + "; " + queue.dequeue() + "; " + queue.dequeue());
    document.write("</br>");
    document.write("The queue should be empty now: " + queue.isEmpty().toString());
    document.write("</br>");

    document.write("ChatEventData test: ");
    var eventData = new RightNow.Chat.Model.ChatEventData();
    eventData.previousState = RightNow.Chat.Model.ChatState.UNDEFINED;
    eventData.currentState = RightNow.Chat.Model.ChatState.CONNECTED;
    eventData.agentClientId = 2;
    eventData.agentName = "Administrator";
    eventData.expectedWaitSeconds = 30;
    eventData.greeting = "Hi, my name is...";
    eventData.reason = "PARTICIPANT_LEFT";
    document.write("previousState=" + eventData.previousState);
    document.write("   currentState=" + eventData.currentState);
    document.write("   agentClientId=" + eventData.agentClientId);
    document.write("   agentName=" + eventData.agentName);
    document.write("   expectedWaitSeconds=" + eventData.expectedWaitSeconds);
    document.write("   greeting=" + eventData.greeting);
    document.write("   reason=" + eventData.reason);

    </script>
  </head>
    <body>
        <center><b>Chat Request Data</b></center>
        <table border="1">
        <tr>
          <td>data.dbName = <script type="text/javascript"> document.write(data.dbName); </script></td>
          <td>data.chatServerHost = <script type="text/javascript"> document.write(data.chatServerHost); </script></td>
          <td>data.contactFirstName = <script type="text/javascript"> document.write(data.contactFirstName); </script></td>
          <td>data.contactLastName = <script type="text/javascript"> document.write(data.contactLastName); </script></td>
        </tr>
        <tr>
          <td>data.contactEmail = <script type="text/javascript"> document.write(data.contactEmail); </script></td>
          <td>data.interfaceID = <script type="text/javascript"> document.write(data.interfaceID); </script></td>
          <td>data.requestSource = <script type="text/javascript"> document.write(data.requestSource); </script></td>
          <td>data.sessionID = <script type="text/javascript"> document.write(data.sessionID); </script></td>
        </tr>
        </table>

        </br>
        </br>

        <center><b>Chat State</b></center>
        <table border="1">
        <tr>
          <td>RightNow.Chat.Model.ChatState.UNDEFINED = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatState.UNDEFINED); </script></td>
          <td>RightNow.Chat.Model.ChatState.SEARCHING = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatState.SEARCHING); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Model.ChatState.CONNECTED = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatState.CONNECTED); </script></td>
          <td>RightNow.Chat.Model.ChatState.REQUEUED = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatState.REQUEUED); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Model.ChatState.CANCELLED = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatState.CANCELLED); </script></td>
          <td>RightNow.Chat.Model.ChatState.DISCONNECTED = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatState.DISCONNECTED); </script></td>
        </tr>
        </table>

        </br>
        </br>

        <center><b>Chat End User Action</b></center>
        <table border="1">
        <tr>
          <td>RightNow.Chat.Model.ChatEndUserAction.LOGON = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.LOGON); </script></td>
          <td>RightNow.Chat.Model.ChatEndUserAction.LOGOFF = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.LOGOFF); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Model.ChatEndUserAction.GETUPDATE = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.GETUPDATE); </script></td>
          <td>RightNow.Chat.Model.ChatEndUserAction.SEND_TEXT = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.SEND_TEXT); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Model.ChatEndUserAction.ACTIVITY_STATUS = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.ACTIVITY_STATUS); </script></td>
          <td>RightNow.Chat.Model.ChatEndUserAction.PROACTIVE_QUERY = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.PROACTIVE_QUERY); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Model.ChatEndUserAction.COBROWSE = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.COBROWSE); </script></td>
          <td>RightNow.Chat.Model.ChatEndUserAction.NOTIFY_FATTACH = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.NOTIFY_FATTACH); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Model.ChatEndUserAction.FATTACH_UPLOAD = <script type="text/javascript"> document.write(RightNow.Chat.Model.ChatEndUserAction.FATTACH_UPLOAD); </script></td>
        </tr>
        </table>

        </br>
        </br>

        <center><b>Chat Events</b></center>
        <table border="1">
        <tr>
          <td>RightNow.Chat.Events.evt_chatConnectUpdate.type = <script type="text/javascript"> document.write(events.evt_chatConnectUpdate.type); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Events.evt_chatStateChange.type = <script type="text/javascript"> document.write(events.evt_chatStateChange.type); </script></td>
        </tr>

        <tr>
          <td>RightNow.Chat.Events.evt_chatQueuePositionNotification.type = <script type="text/javascript"> document.write(events.evt_chatQueuePositionNotification.type); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Events.evt_chatDisconnectNotification.type = <script type="text/javascript"> document.write(events.evt_chatDisconnectNotification.type); </script></td>
        </tr>

        <tr>
          <td>RightNow.Chat.Events.evt_chatEngagementParticipantAdded.type = <script type="text/javascript"> document.write(events.evt_chatEngagementParticipantAdded.type); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Events.evt_chatEngagementUpdateNotification.type = <script type="text/javascript"> document.write(events.evt_chatEngagementUpdateNotification.type); </script></td>
        </tr>

        <tr>
          <td>RightNow.Chat.Events.evt_chatRoleChangeNotification.type = <script type="text/javascript"> document.write(events.evt_chatRoleChangeNotification.type); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Events.evt_chatAgentStatusChange.type = <script type="text/javascript"> document.write(events.evt_chatAgentStatusChange.type); </script></td>
        </tr>

        <tr>
          <td>RightNow.Chat.Events.evt_chatPostMessage.type = <script type="text/javascript"> document.write(events.evt_chatPostMessage.type); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Events.evt_chatCobrowseInvitation.type = <script type="text/javascript"> document.write(events.evt_chatCobrowseInvitation.type); </script></td>
        </tr>

        <tr>
          <td>RightNow.Chat.Events.evt_chatCobrowseStatusNotification.type = <script type="text/javascript"> document.write(events.evt_chatCobrowseStatusNotification.type); </script></td>
        </tr>
        <tr>
          <td>RightNow.Chat.Events.evt_chatFileAttachNotification.type = <script type="text/javascript"> document.write(events.evt_chatFileAttachNotification.type); </script></td>
        </tr>

        <tr>
          <td>RightNow.Chat.Events.evt_chatFetchUpdateComplete.type = <script type="text/javascript"> document.write(events.evt_chatFetchUpdateComplete.type); </script></td>
        </tr>
        </table>
    </body>
</html>
